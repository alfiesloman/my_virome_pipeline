Oct-22 14:16:29.989 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf -profile slurm --input_dir /users/as3243/test_fasta/ --outdir /users/as3243/test_fasta_results -resume
Oct-22 14:16:30.081 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 25.04.6
Oct-22 14:16:30.102 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/users/as3243/.nextflow/plugins; core-plugins: nf-amazon@2.15.0,nf-azure@1.16.0,nf-cloudcache@0.4.3,nf-codecommit@0.2.3,nf-console@1.2.1,nf-google@1.21.1,nf-k8s@1.0.0,nf-tower@1.11.4,nf-wave@1.12.1
Oct-22 14:16:30.131 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Oct-22 14:16:30.132 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Oct-22 14:16:30.135 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Oct-22 14:16:30.147 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Oct-22 14:16:30.174 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /users/as3243/my_virome_pipeline/nextflow.config
Oct-22 14:16:30.177 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /users/as3243/my_virome_pipeline/nextflow.config
Oct-22 14:16:30.219 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /users/as3243/.nextflow/secrets/store.json
Oct-22 14:16:30.222 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@2bc12da] - activable => nextflow.secret.LocalSecretsProvider@2bc12da
Oct-22 14:16:30.234 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `slurm`
Oct-22 14:16:30.986 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [slurm, debug, test, mamba, conda, viking2]
Oct-22 14:16:31.027 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Oct-22 14:16:31.046 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [extravagant_cajal] DSL2 - revision: eca13f0f39
Oct-22 14:16:31.047 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Oct-22 14:16:31.047 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Oct-22 14:16:31.097 [main] DEBUG nextflow.Session - Session UUID: 398f7d2b-7bdf-4eb6-bb41-cf1187c737ca
Oct-22 14:16:31.097 [main] DEBUG nextflow.Session - Run name: extravagant_cajal
Oct-22 14:16:31.098 [main] DEBUG nextflow.Session - Executor pool size: 4
Oct-22 14:16:31.106 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Oct-22 14:16:31.111 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=12; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Oct-22 14:16:31.139 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 25.04.6 build 5954
  Created: 01-07-2025 11:27 UTC (12:27 BST)
  System: Linux 4.18.0-553.56.1.el8_10.x86_64
  Runtime: Groovy 4.0.26 on OpenJDK 64-Bit Server VM 21.0.2+13-LTS
  Encoding: UTF-8 (UTF-8)
  Process: 1530064@login2.viking2.yor.alces.network [10.10.0.22]
  CPUs: 4 - Mem: 24 GB (14.1 GB) - Swap: 16 GB (14.8 GB)
Oct-22 14:16:31.179 [main] DEBUG nextflow.Session - Work-dir: /users/as3243/my_virome_pipeline/work [nfs]
Oct-22 14:16:31.200 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Oct-22 14:16:31.209 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Oct-22 14:16:31.264 [main] DEBUG nextflow.Session - Observer factory (v2): LinObserverFactory
Oct-22 14:16:31.321 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Oct-22 14:16:31.336 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 5; maxThreads: 1000
Oct-22 14:16:31.427 [main] DEBUG nextflow.Session - Session start
Oct-22 14:16:31.431 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow started -- trace file: /users/as3243/test_fasta_results/pipeline_info/execution_trace.txt
Oct-22 14:16:31.433 [main] DEBUG nextflow.Session - Trace file already exists: /users/as3243/test_fasta_results/pipeline_info/execution_trace.txt -- enable the 'trace.overwrite' option in your config file to overwrite existing files
nextflow.exception.AbortOperationException: Trace file already exists: /users/as3243/test_fasta_results/pipeline_info/execution_trace.txt -- enable the 'trace.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:67)
	at nextflow.trace.TraceFileObserver.onFlowCreate(TraceFileObserver.groovy:206)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Caused by: java.nio.file.FileAlreadyExistsException: /users/as3243/test_fasta_results/pipeline_info/execution_trace.txt
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)
	at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:482)
	at java.base/java.nio.file.Files.newOutputStream(Files.java:227)
	at java.base/java.nio.file.Files.newBufferedWriter(Files.java:2988)
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:64)
	... 9 common frames omitted
Oct-22 14:16:31.436 [main] DEBUG nextflow.Session - Report file already exists: /users/as3243/test_fasta_results/pipeline_info/execution_report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
nextflow.exception.AbortOperationException: Report file already exists: /users/as3243/test_fasta_results/pipeline_info/execution_report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.ReportObserver.onFlowCreate(ReportObserver.groovy:133)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Oct-22 14:16:31.436 [main] DEBUG nextflow.Session - Timeline file already exists: /users/as3243/test_fasta_results/pipeline_info/execution_timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
nextflow.exception.AbortOperationException: Timeline file already exists: /users/as3243/test_fasta_results/pipeline_info/execution_timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TimelineObserver.onFlowCreate(TimelineObserver.groovy:76)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Oct-22 14:16:31.438 [main] DEBUG nextflow.Session - DAG file already exists: /users/as3243/test_fasta_results/pipeline_info/pipeline_dag.html -- enable `dag.overwrite` in your config file to overwrite existing DAG files
nextflow.exception.AbortOperationException: DAG file already exists: /users/as3243/test_fasta_results/pipeline_info/pipeline_dag.html -- enable `dag.overwrite` in your config file to overwrite existing DAG files
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.trace.GraphObserver.onFlowCreate(GraphObserver.groovy:77)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Oct-22 14:16:32.070 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Oct-22 14:16:32.092 [main] INFO  nextflow.Nextflow - ✓ Parameter validation passed
Oct-22 14:16:32.094 [main] INFO  nextflow.Nextflow - 
=========================================
 VIROME ANALYSIS PIPELINE v2.0
=========================================
Input directory     : /users/as3243/test_fasta/
Output directory    : /users/as3243/test_fasta_results
GeNomad database    : /mnt/scratch/projects/biol-soilv-2024/databases/genomad_db
iPHoP database      : /mnt/scratch/projects/biol-soilv-2024/virome_assembly/iphop_db/Aug_2023_pub_rw
BACPHLIP hmmsearch  : /mnt/scratch/users/as3243/miniconda/envs/bacphlip/bin/hmmsearch
ClusterONE JAR      : /mnt/scratch/users/as3243/miniconda/envs/vcontact2/lib/cluster_one-v1.0.jar
Max memory          : 120.GB
Max CPUs            : 32
Max time            : 48.h
=========================================

Oct-22 14:16:32.250 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_GENOMAD` matches process RUN_GENOMAD
Oct-22 14:16:32.263 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-22 14:16:32.263 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-22 14:16:32.272 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
Oct-22 14:16:32.279 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 20; pollInterval: 5s; dumpInterval: 5m 
Oct-22 14:16:32.280 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: slurm)
Oct-22 14:16:32.281 [main] DEBUG n.processor.TaskPollingMonitor - Creating submit rate limit of 10 submissions per 1 seconds
Oct-22 14:16:32.284 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
Oct-22 14:16:32.303 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_GENOMAD': maxForks=0; fair=false; array=0
Oct-22 14:16:32.335 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_CHECKV` matches process RUN_CHECKV
Oct-22 14:16:32.337 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-22 14:16:32.337 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-22 14:16:32.337 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_CHECKV': maxForks=0; fair=false; array=0
Oct-22 14:16:32.343 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_IPHOP` matches process RUN_IPHOP
Oct-22 14:16:32.345 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-22 14:16:32.345 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-22 14:16:32.346 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_IPHOP': maxForks=0; fair=false; array=0
Oct-22 14:16:32.351 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_BACPHLIP` matches process RUN_BACPHLIP
Oct-22 14:16:32.352 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-22 14:16:32.352 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-22 14:16:32.353 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_BACPHLIP': maxForks=0; fair=false; array=0
Oct-22 14:16:32.359 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_VCONTACT2` matches process RUN_VCONTACT2
Oct-22 14:16:32.360 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-22 14:16:32.360 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-22 14:16:32.361 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_VCONTACT2': maxForks=0; fair=false; array=0
Oct-22 14:16:32.373 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: RUN_VCONTACT2, RUN_IPHOP, RUN_CHECKV, RUN_BACPHLIP, RUN_GENOMAD
Oct-22 14:16:32.376 [main] DEBUG nextflow.Session - Igniting dataflow network (6)
Oct-22 14:16:32.380 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /users/as3243/test_fasta/; pattern: *.fasta; options: [:]
Oct-22 14:16:32.380 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_GENOMAD
Oct-22 14:16:32.381 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_CHECKV
Oct-22 14:16:32.381 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_IPHOP
Oct-22 14:16:32.381 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_BACPHLIP
Oct-22 14:16:32.381 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_VCONTACT2
Oct-22 14:16:32.381 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_da0085c67dec3936: /users/as3243/my_virome_pipeline/main.nf
Oct-22 14:16:32.381 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Oct-22 14:16:32.381 [main] DEBUG nextflow.Session - Session await
Oct-22 14:16:32.391 [Actor Thread 4] INFO  nextflow.Nextflow - Processing sample: 003 (/users/as3243/test_fasta/003.fasta)
Oct-22 14:16:32.473 [Actor Thread 5] DEBUG nextflow.conda.CondaCache - mamba found local env for environment=genomad; path=/users/as3243/.conda/nextflow/env-e8f7de97a875c34e459766f1c3bf24ff
Oct-22 14:16:32.567 [Actor Thread 4] INFO  nextflow.processor.TaskProcessor - [3c/051401] Cached process > RUN_GENOMAD (003)
Oct-22 14:16:32.572 [Actor Thread 4] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onProcessCached(TraceFileObserver.groovy:281)
	at nextflow.Session$_notifyTaskCached_lambda36.doCall(Session.groovy:1075)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyTaskCached(Session.groovy:1075)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.checkCachedOutput(TaskProcessor.groovy:982)
	at nextflow.processor.TaskProcessor.checkCachedOrLaunchTask(TaskProcessor.groovy:815)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.invokeTask(TaskProcessor.groovy:657)
	at nextflow.processor.InvokeTaskAdapter.call(InvokeTaskAdapter.groovy:52)
	at groovyx.gpars.dataflow.operator.DataflowOperatorActor.startTask(DataflowOperatorActor.java:120)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor.access$001(ForkingDataflowOperatorActor.java:35)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor$1.run(ForkingDataflowOperatorActor.java:58)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Oct-22 14:16:32.602 [Actor Thread 4] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=12; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Oct-22 14:16:32.606 [Actor Thread 4] DEBUG nextflow.conda.CondaCache - mamba found local env for environment=checkv; path=/users/as3243/.conda/nextflow/env-4d8a524f3be2a692b01303de37056701
Oct-22 14:16:32.706 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process RUN_CHECKV (003) > jobId: 25576796; workDir: /users/as3243/my_virome_pipeline/work/22/6b449941a9e6849d7cf2d25ec44fbc
Oct-22 14:16:32.707 [Task submitter] INFO  nextflow.Session - [22/6b4499] Submitted process > RUN_CHECKV (003)
Oct-22 14:21:37.306 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor slurm > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[jobId: 25576796; id: 2; name: RUN_CHECKV (003); status: SUBMITTED; exit: -; error: -; workDir: /users/as3243/my_virome_pipeline/work/22/6b449941a9e6849d7cf2d25ec44fbc started: -; exited: -; ]
Oct-22 14:23:42.317 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 25576796; id: 2; name: RUN_CHECKV (003); status: COMPLETED; exit: 0; error: -; workDir: /users/as3243/my_virome_pipeline/work/22/6b449941a9e6849d7cf2d25ec44fbc started: 1761139327309; exited: 2025-10-22T13:23:14.522354234Z; ]
Oct-22 14:23:42.319 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=12; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Oct-22 14:23:42.341 [TaskFinalizer-1] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onProcessComplete(TraceFileObserver.groovy:270)
	at nextflow.Session$_notifyTaskComplete_lambda34.doCall(Session.groovy:1063)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyTaskComplete(Session.groovy:1063)
	at nextflow.processor.TaskPollingMonitor.finalizeTask(TaskPollingMonitor.groovy:699)
	at nextflow.processor.TaskPollingMonitor.safeFinalizeTask(TaskPollingMonitor.groovy:686)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:645)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:628)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:82)
	at nextflow.processor.TaskPollingMonitor$_checkTaskStatus_lambda8.doCall(TaskPollingMonitor.groovy:676)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Oct-22 14:23:42.354 [Actor Thread 5] INFO  nextflow.conda.CondaCache - Creating env using mamba: vcontact2new [cache /users/as3243/.conda/nextflow/env-91f950654fc394e44deae10e0777a5c6]
Oct-22 14:23:42.354 [Actor Thread 3] INFO  nextflow.conda.CondaCache - Creating env using mamba: iphop_env [cache /users/as3243/.conda/nextflow/env-a27ffb3aa52a16b6e557a77b88559e26]
Oct-22 14:23:42.355 [Actor Thread 4] INFO  nextflow.conda.CondaCache - Creating env using mamba: bacphlip [cache /users/as3243/.conda/nextflow/env-0cfd63a1dae6f1d759ec80422b9f4924]
Oct-22 14:23:56.955 [Actor Thread 9] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=RUN_VCONTACT2 (1); work-dir=null
  error [java.lang.IllegalStateException]: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba create --yes --quiet --prefix /users/as3243/.conda/nextflow/env-91f950654fc394e44deae10e0777a5c6 vcontact2new
  status : 1
  message:
    warning  libmamba 'repo.anaconda.com', a commercial channel hosted by Anaconda.com, is used.
        
    warning  libmamba Please make sure you understand Anaconda Terms of Services.
        
    warning  libmamba See: https://legal.anaconda.com/policies/en/
    error    libmamba Could not solve for environment specs
        The following package could not be installed
        └─ vcontact2new =* * does not exist (perhaps a typo or a missing channel).
    critical libmamba Could not solve for environment specs

Oct-22 14:23:56.964 [Actor Thread 9] ERROR nextflow.processor.TaskProcessor - Error executing process > 'RUN_VCONTACT2 (1)'

Caused by:
  Failed to create Conda environment
    command: mamba create --yes --quiet --prefix /users/as3243/.conda/nextflow/env-91f950654fc394e44deae10e0777a5c6 vcontact2new
    status : 1
    message:
      warning  libmamba 'repo.anaconda.com', a commercial channel hosted by Anaconda.com, is used.
          
      warning  libmamba Please make sure you understand Anaconda Terms of Services.
          
      warning  libmamba See: https://legal.anaconda.com/policies/en/
      error    libmamba Could not solve for environment specs
          The following package could not be installed
          └─ vcontact2new =* * does not exist (perhaps a typo or a missing channel).
      critical libmamba Could not solve for environment specs


java.lang.IllegalStateException: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba create --yes --quiet --prefix /users/as3243/.conda/nextflow/env-91f950654fc394e44deae10e0777a5c6 vcontact2new
  status : 1
  message:
    warning  libmamba 'repo.anaconda.com', a commercial channel hosted by Anaconda.com, is used.
        
    warning  libmamba Please make sure you understand Anaconda Terms of Services.
        
    warning  libmamba See: https://legal.anaconda.com/policies/en/
    error    libmamba Could not solve for environment specs
        The following package could not be installed
        └─ vcontact2new =* * does not exist (perhaps a typo or a missing channel).
    critical libmamba Could not solve for environment specs

	at nextflow.conda.CondaCache.getCachePathFor(CondaCache.groovy:393)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskRun.getCondaEnv0(TaskRun.groovy:647)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnCurrentN(ScriptBytecodeAdapter.java:96)
	at nextflow.processor.TaskRun.this$dist$invoke$1(TaskRun.groovy)
	at nextflow.processor.TaskRun$2.methodMissing(TaskRun.groovy)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaClassImpl.invokeMissingMethod(MetaClassImpl.java:924)
	at groovy.lang.MetaClassImpl.invokePropertyOrMissing(MetaClassImpl.java:1413)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1335)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskRun$2.apply(TaskRun.groovy:638)
	at nextflow.processor.TaskRun$2.apply(TaskRun.groovy)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskRun.getCondaEnv(TaskRun.groovy:635)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.createTaskHashKey(TaskProcessor.groovy:2232)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.invokeTask(TaskProcessor.groovy:656)
	at nextflow.processor.InvokeTaskAdapter.call(InvokeTaskAdapter.groovy:52)
	at groovyx.gpars.dataflow.operator.DataflowOperatorActor.startTask(DataflowOperatorActor.java:120)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor.access$001(ForkingDataflowOperatorActor.java:35)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor$1.run(ForkingDataflowOperatorActor.java:58)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba create --yes --quiet --prefix /users/as3243/.conda/nextflow/env-91f950654fc394e44deae10e0777a5c6 vcontact2new
  status : 1
  message:
    warning  libmamba 'repo.anaconda.com', a commercial channel hosted by Anaconda.com, is used.
        
    warning  libmamba Please make sure you understand Anaconda Terms of Services.
        
    warning  libmamba See: https://legal.anaconda.com/policies/en/
    error    libmamba Could not solve for environment specs
        The following package could not be installed
        └─ vcontact2new =* * does not exist (perhaps a typo or a missing channel).
    critical libmamba Could not solve for environment specs

	at nextflow.conda.CondaCache.runCommand(CondaCache.groovy:341)
	at nextflow.conda.CondaCache.createLocalCondaEnv0(CondaCache.groovy:312)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:645)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:628)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:82)
	at nextflow.conda.CondaCache$_createLocalCondaEnv_closure1.doCall(CondaCache.groovy:267)
	at nextflow.conda.CondaCache$_createLocalCondaEnv_closure1.call(CondaCache.groovy)
	at nextflow.file.FileMutex.lock(FileMutex.groovy:106)
	at nextflow.conda.CondaCache.createLocalCondaEnv(CondaCache.groovy:267)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:645)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:628)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:82)
	at nextflow.conda.CondaCache$_getLazyImagePath_closure3.doCall(CondaCache.groovy:370)
	at nextflow.conda.CondaCache$_getLazyImagePath_closure3.call(CondaCache.groovy)
	at groovyx.gpars.dataflow.LazyDataflowVariable$1.run(LazyDataflowVariable.java:70)
	... 3 common frames omitted
Oct-22 14:23:56.971 [Actor Thread 9] DEBUG nextflow.Session - Session aborted -- Cause: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba create --yes --quiet --prefix /users/as3243/.conda/nextflow/env-91f950654fc394e44deae10e0777a5c6 vcontact2new
  status : 1
  message:
    warning  libmamba 'repo.anaconda.com', a commercial channel hosted by Anaconda.com, is used.
        
    warning  libmamba Please make sure you understand Anaconda Terms of Services.
        
    warning  libmamba See: https://legal.anaconda.com/policies/en/
    error    libmamba Could not solve for environment specs
        The following package could not be installed
        └─ vcontact2new =* * does not exist (perhaps a typo or a missing channel).
    critical libmamba Could not solve for environment specs

Oct-22 14:23:56.986 [Actor Thread 9] DEBUG nextflow.Session - The following nodes are still active:
[process] RUN_IPHOP
  status=ACTIVE
  port 0: (queue) closed; channel: -
  port 1: (cntrl) -     ; channel: $

[process] RUN_BACPHLIP
  status=ACTIVE
  port 0: (queue) closed; channel: -
  port 1: (cntrl) -     ; channel: $

[process] RUN_VCONTACT2
  status=ACTIVE
  port 0: (queue) closed; channel: -
  port 1: (cntrl) -     ; channel: $

Oct-22 14:23:57.055 [Actor Thread 9] ERROR nextflow.Nextflow - 
=========================================
 PIPELINE EXECUTION FAILED
=========================================
Error message: null
Exit status: null
Work directory: /users/as3243/my_virome_pipeline/work

Check the log files in the work directory for more details.
=========================================

Oct-22 14:23:57.057 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: slurm) - terminating tasks monitor poll loop
Oct-22 14:23:57.057 [main] DEBUG nextflow.Session - Session await > all processes finished
Oct-22 14:23:57.057 [main] DEBUG nextflow.Session - Session await > all barriers passed
Oct-22 14:23:57.059 [Actor Thread 6] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=RUN_IPHOP; work-dir=null
  error [java.lang.InterruptedException]: java.lang.InterruptedException
Oct-22 14:23:57.059 [Actor Thread 1] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=RUN_BACPHLIP; work-dir=null
  error [java.lang.InterruptedException]: java.lang.InterruptedException
Oct-22 14:23:57.059 [Actor Thread 2] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=RUN_VCONTACT2; work-dir=null
  error [java.lang.InterruptedException]: java.lang.InterruptedException
Oct-22 14:23:57.065 [main] INFO  nextflow.Nextflow - 
    =========================================
     VIROME PIPELINE COMPLETED
    =========================================
    Status:     FAILED
    Duration:   7m 26s
    CPU hours:  0.4 (75.3% cached)
    Work dir:   /users/as3243/my_virome_pipeline/work
    Exit status: null
    Error report: Error executing process > 'RUN_VCONTACT2 (1)'

Caused by:
  Failed to create Conda environment
    command: mamba create --yes --quiet --prefix /users/as3243/.conda/nextflow/env-91f950654fc394e44deae10e0777a5c6 vcontact2new
    status : 1
    message:
      warning  libmamba 'repo.anaconda.com', a commercial channel hosted by Anaconda.com, is used.
          
      warning  libmamba Please make sure you understand Anaconda Terms of Services.
          
      warning  libmamba See: https://legal.anaconda.com/policies/en/
      error    libmamba Could not solve for environment specs
          The following package could not be installed
          └─ vcontact2new =* * does not exist (perhaps a typo or a missing channel).
      critical libmamba Could not solve for environment specs


    =========================================
    Results directory: /users/as3243/test_fasta_results
    
    Generated outputs:
    - GeNomad results: virus identification and annotation
    - CheckV results: virus quality assessment  
    - iPHoP results: host prediction
    - BACPHLIP results: lifestyle prediction
    - vConTACT2 results: viral clustering
    
    Reports available in: /users/as3243/test_fasta_results/pipeline_info/
    =========================================
    
Oct-22 14:23:57.071 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=1; failedCount=0; ignoredCount=0; cachedCount=1; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=5m 22s; failedDuration=0ms; cachedDuration=16m 23s;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=4; peakMemory=16 GB; ]
Oct-22 14:23:57.071 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow completed -- saving trace file
Oct-22 14:23:57.071 [main] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.await()" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.await()" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onFlowComplete(TraceFileObserver.groovy:221)
	at nextflow.Session$_notifyFlowComplete_lambda45.doCall(Session.groovy:1107)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1107)
	at nextflow.Session.shutdown0(Session.groovy:768)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Oct-22 14:23:57.071 [main] DEBUG nextflow.trace.ReportObserver - Workflow completed -- rendering execution report
Oct-22 14:23:57.550 [main] WARN  nextflow.trace.ReportObserver - Failed to render execution report -- see the log file for details
nextflow.exception.AbortOperationException: Report file already exists: /users/as3243/test_fasta_results/pipeline_info/execution_report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:67)
	at nextflow.trace.ReportObserver.renderHtml(ReportObserver.groovy:284)
	at nextflow.trace.ReportObserver.onFlowComplete(ReportObserver.groovy:143)
	at nextflow.Session$_notifyFlowComplete_lambda45.doCall(Session.groovy:1107)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1107)
	at nextflow.Session.shutdown0(Session.groovy:768)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Caused by: java.nio.file.FileAlreadyExistsException: /users/as3243/test_fasta_results/pipeline_info/execution_report.html
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)
	at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:482)
	at java.base/java.nio.file.Files.newOutputStream(Files.java:227)
	at java.base/java.nio.file.Files.newBufferedWriter(Files.java:2988)
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:64)
	... 12 common frames omitted
Oct-22 14:23:57.550 [main] DEBUG nextflow.trace.TimelineObserver - Workflow completed -- rendering execution timeline
Oct-22 14:23:57.603 [main] WARN  nextflow.trace.TimelineObserver - Failed to render execution timeline -- see the log file for details
nextflow.exception.AbortOperationException: Timeline file already exists: /users/as3243/test_fasta_results/pipeline_info/execution_timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:67)
	at nextflow.trace.TimelineObserver.renderHtml(TimelineObserver.groovy:178)
	at nextflow.trace.TimelineObserver.onFlowComplete(TimelineObserver.groovy:87)
	at nextflow.Session$_notifyFlowComplete_lambda45.doCall(Session.groovy:1107)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1107)
	at nextflow.Session.shutdown0(Session.groovy:768)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Caused by: java.nio.file.FileAlreadyExistsException: /users/as3243/test_fasta_results/pipeline_info/execution_timeline.html
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)
	at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:482)
	at java.base/java.nio.file.Files.newOutputStream(Files.java:227)
	at java.base/java.nio.file.Files.newBufferedWriter(Files.java:2988)
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:64)
	... 12 common frames omitted
Oct-22 14:23:57.642 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Oct-22 14:23:57.656 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
