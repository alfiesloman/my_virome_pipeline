Oct-22 12:22:46.623 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf --input_dir data --outdir results_20251022_122245 -profile test
Oct-22 12:22:46.714 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 25.04.6
Oct-22 12:22:46.731 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/users/as3243/.nextflow/plugins; core-plugins: nf-amazon@2.15.0,nf-azure@1.16.0,nf-cloudcache@0.4.3,nf-codecommit@0.2.3,nf-console@1.2.1,nf-google@1.21.1,nf-k8s@1.0.0,nf-tower@1.11.4,nf-wave@1.12.1
Oct-22 12:22:46.756 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Oct-22 12:22:46.757 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Oct-22 12:22:46.759 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Oct-22 12:22:46.769 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Oct-22 12:22:46.786 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /users/as3243/my_virome_pipeline/nextflow.config
Oct-22 12:22:46.788 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /users/as3243/my_virome_pipeline/nextflow.config
Oct-22 12:22:46.828 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /users/as3243/.nextflow/secrets/store.json
Oct-22 12:22:46.831 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@2bc12da] - activable => nextflow.secret.LocalSecretsProvider@2bc12da
Oct-22 12:22:46.845 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `test`
Oct-22 12:22:47.559 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [slurm, debug, test, mamba, conda, viking2]
Oct-22 12:22:47.598 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Oct-22 12:22:47.616 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [cheeky_keller] DSL2 - revision: 353b3cafaa
Oct-22 12:22:47.617 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Oct-22 12:22:47.617 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Oct-22 12:22:47.664 [main] DEBUG nextflow.Session - Session UUID: 398f7d2b-7bdf-4eb6-bb41-cf1187c737ca
Oct-22 12:22:47.664 [main] DEBUG nextflow.Session - Run name: cheeky_keller
Oct-22 12:22:47.664 [main] DEBUG nextflow.Session - Executor pool size: 4
Oct-22 12:22:47.671 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Oct-22 12:22:47.676 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=12; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Oct-22 12:22:47.699 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 25.04.6 build 5954
  Created: 01-07-2025 11:27 UTC (12:27 BST)
  System: Linux 4.18.0-553.56.1.el8_10.x86_64
  Runtime: Groovy 4.0.26 on OpenJDK 64-Bit Server VM 21.0.2+13-LTS
  Encoding: UTF-8 (UTF-8)
  Process: 481175@login2.viking2.yor.alces.network [10.10.0.22]
  CPUs: 4 - Mem: 24 GB (9.7 GB) - Swap: 16 GB (14.8 GB)
Oct-22 12:22:47.728 [main] DEBUG nextflow.Session - Work-dir: /users/as3243/my_virome_pipeline/work [nfs]
Oct-22 12:22:47.742 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Oct-22 12:22:47.750 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Oct-22 12:22:47.772 [main] DEBUG nextflow.Session - Observer factory (v2): LinObserverFactory
Oct-22 12:22:47.795 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Oct-22 12:22:47.804 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 5; maxThreads: 1000
Oct-22 12:22:47.870 [main] DEBUG nextflow.Session - Session start
Oct-22 12:22:47.874 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow started -- trace file: /users/as3243/my_virome_pipeline/results_20251022_122245/pipeline_info/execution_trace.txt
Oct-22 12:22:48.565 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Oct-22 12:22:48.587 [main] INFO  nextflow.Nextflow - âœ“ Parameter validation passed
Oct-22 12:22:48.589 [main] INFO  nextflow.Nextflow - 
=========================================
 VIROME ANALYSIS PIPELINE v2.0
=========================================
Input directory     : data
Output directory    : results_20251022_122245
GeNomad database    : /mnt/scratch/projects/biol-soilv-2024/databases/genomad_db
iPHoP database      : /mnt/scratch/projects/biol-soilv-2024/virome_assembly/iphop_db/Aug_2023_pub_rw
BACPHLIP hmmsearch  : /mnt/scratch/users/as3243/miniconda/envs/bacphlip/bin/hmmsearch
ClusterONE JAR      : /mnt/scratch/users/as3243/miniconda/envs/vcontact2/lib/cluster_one-v1.0.jar
Max memory          : 6.GB
Max CPUs            : 2
Max time            : 6.h
=========================================

Oct-22 12:22:48.732 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_GENOMAD` matches process RUN_GENOMAD
Oct-22 12:22:48.745 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-22 12:22:48.746 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-22 12:22:48.752 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Oct-22 12:22:48.762 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=4; memory=24 GB; capacity=4; pollInterval=100ms; dumpInterval=5m
Oct-22 12:22:48.764 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Oct-22 12:22:48.786 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_GENOMAD': maxForks=0; fair=false; array=0
Oct-22 12:22:48.822 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_CHECKV` matches process RUN_CHECKV
Oct-22 12:22:48.824 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-22 12:22:48.824 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-22 12:22:48.824 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_CHECKV': maxForks=0; fair=false; array=0
Oct-22 12:22:48.830 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_IPHOP` matches process RUN_IPHOP
Oct-22 12:22:48.831 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-22 12:22:48.831 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-22 12:22:48.832 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_IPHOP': maxForks=0; fair=false; array=0
Oct-22 12:22:48.837 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_BACPHLIP` matches process RUN_BACPHLIP
Oct-22 12:22:48.839 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-22 12:22:48.839 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-22 12:22:48.839 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_BACPHLIP': maxForks=0; fair=false; array=0
Oct-22 12:22:48.845 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RUN_VCONTACT2` matches process RUN_VCONTACT2
Oct-22 12:22:48.846 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-22 12:22:48.846 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-22 12:22:48.847 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'RUN_VCONTACT2': maxForks=0; fair=false; array=0
Oct-22 12:22:48.860 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: RUN_VCONTACT2, RUN_IPHOP, RUN_CHECKV, RUN_BACPHLIP, RUN_GENOMAD
Oct-22 12:22:48.862 [main] DEBUG nextflow.Session - Igniting dataflow network (6)
Oct-22 12:22:48.867 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: data/; pattern: *.fasta; options: [:]
Oct-22 12:22:48.868 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_GENOMAD
Oct-22 12:22:48.868 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_CHECKV
Oct-22 12:22:48.868 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_IPHOP
Oct-22 12:22:48.868 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_BACPHLIP
Oct-22 12:22:48.868 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RUN_VCONTACT2
Oct-22 12:22:48.869 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_b049dab1315860f9: /users/as3243/my_virome_pipeline/main.nf
Oct-22 12:22:48.869 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Oct-22 12:22:48.869 [main] DEBUG nextflow.Session - Session await
Oct-22 12:22:48.876 [Actor Thread 3] ERROR nextflow.extension.OperatorImpl - @unknown
nextflow.exception.WorkflowScriptErrorException: No FASTA files found in data/*.fasta
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.Nextflow.error(Nextflow.groovy:241)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at Script_b049dab1315860f9$_runScript_closure7$_closure45$_closure47.doCall(Script_b049dab1315860f9:350)
	at Script_b049dab1315860f9$_runScript_closure7$_closure45$_closure47.doCall(Script_b049dab1315860f9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:280)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.extension.OperatorImpl$_ifEmpty_closure30.doCall(OperatorImpl.groovy:1043)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:280)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.extension.DataflowHelper$3.afterStop(DataflowHelper.groovy:257)
	at groovyx.gpars.dataflow.operator.DataflowProcessor.fireAfterStop(DataflowProcessor.java:324)
	at groovyx.gpars.dataflow.operator.DataflowProcessorActor.afterStop(DataflowProcessorActor.java:59)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:633)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:624)
	at groovyx.gpars.actor.Actor.callDynamic(Actor.java:369)
	at groovyx.gpars.actor.Actor.handleTermination(Actor.java:320)
	at groovyx.gpars.actor.AbstractLoopingActor.terminate(AbstractLoopingActor.java:204)
	at groovyx.gpars.dataflow.operator.DataflowProcessor.terminate(DataflowProcessor.java:147)
	at groovyx.gpars.dataflow.operator.DataflowProcessorActor.checkPoison(DataflowProcessorActor.java:115)
	at groovyx.gpars.dataflow.operator.DataflowOperatorActor.onMessage(DataflowOperatorActor.java:83)
	at groovyx.gpars.actor.impl.SDAClosure$1.call(SDAClosure.java:43)
	at groovyx.gpars.actor.AbstractLoopingActor.runEnhancedWithoutRepliesOnMessages(AbstractLoopingActor.java:293)
	at groovyx.gpars.actor.AbstractLoopingActor.access$400(AbstractLoopingActor.java:30)
	at groovyx.gpars.actor.AbstractLoopingActor$1.handleMessage(AbstractLoopingActor.java:93)
	at groovyx.gpars.util.AsyncMessagingCore.run(AsyncMessagingCore.java:132)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Oct-22 12:22:48.883 [main] DEBUG nextflow.Session - Session await > all processes finished
Oct-22 12:22:48.883 [Actor Thread 3] DEBUG nextflow.Session - Session aborted -- Cause: No FASTA files found in data/*.fasta
Oct-22 12:22:48.899 [Actor Thread 3] DEBUG nextflow.Session - The following nodes are still active:
  [operator] view

Oct-22 12:22:48.902 [Actor Thread 3] ERROR nextflow.Nextflow - 
=========================================
 PIPELINE EXECUTION FAILED
=========================================
Error message: No FASTA files found in data/*.fasta
Exit status: null
Work directory: /users/as3243/my_virome_pipeline/work

Check the log files in the work directory for more details.
=========================================

Oct-22 12:22:48.903 [main] DEBUG nextflow.Session - Session await > all barriers passed
Oct-22 12:22:48.904 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Oct-22 12:22:48.908 [main] INFO  nextflow.Nextflow - 
=========================================
 VIROME PIPELINE COMPLETED
=========================================
Status:     FAILED
Duration:   1.1s
CPU hours:  (a few seconds)
Work dir:   /users/as3243/my_virome_pipeline/work
Exit status: null
Error report: No FASTA files found in data/*.fasta
=========================================
Results directory: results_20251022_122245

Generated outputs:
- GeNomad results: virus identification and annotation
- CheckV results: virus quality assessment  
- iPHoP results: host prediction
- BACPHLIP results: lifestyle prediction
- vConTACT2 results: viral clustering

Reports available in: results_20251022_122245/pipeline_info/
=========================================

Oct-22 12:22:48.912 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=0; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=0ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=0; peakCpus=0; peakMemory=0; ]
Oct-22 12:22:48.912 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow completed -- saving trace file
Oct-22 12:22:48.913 [main] DEBUG nextflow.trace.ReportObserver - Workflow completed -- rendering execution report
Oct-22 12:22:49.340 [main] DEBUG nextflow.trace.TimelineObserver - Workflow completed -- rendering execution timeline
Oct-22 12:22:49.430 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Oct-22 12:22:49.443 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
